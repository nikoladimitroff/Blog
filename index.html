<!doctype HTML>
<html>
<head>

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="styles.css"/>

    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.6/dist/vue.js"></script>
    <script src="https://unpkg.com/vue-router@3.0.2/dist/vue-router.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/showdown@1.9.0/dist/showdown.min.js"></script>
    <link rel="stylesheet"
      href="thirdparty/highlightjs/vs.css">
    <script src="thirdparty/highlightjs/highlight.pack.js"></script>

    <script type="text/javascript">
        window.MathJax = {
            displayAlign: "center",
            TeX: { equationNumbers: { autoNumber: "all" } },
            tex2jax: {
                inlineMath: [ ['$','$'] ],
                displayMath: [ ['$$','$$'] ],
                processEscapes: true
            },
            "HTML-CSS": {
                linebreaks: {
                    automatic: true
                }
            }
        };
      </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML" async></script>

</head>
<body>
    <template id="article-display" data-autoregister-props="article previous next">
        <main class="article-container">
            <h1>{{ article.title }}</h1>
            <div>
                <span class="date-display">Published:</span>
                <span class="date-display">
                    {{ article.publishDate.toLocaleDateString("en-UK", { year: 'numeric', month: 'long', day: 'numeric' }) }}
                </span>
                <br/>
                <span class="date-display">Last edited:</span>
                <span class="date-display">
                    {{ article.lastEditDate.toLocaleDateString("en-UK", { year: 'numeric', month: 'long', day: 'numeric' }) }}
                </span>
            </div>
            <hr/>
            <article v-html="article.renderedContent">
            </article>
            <hr/>
            <div id="article-footer">
                <div v-if="previous != undefined" id="previous-post">
                    <span>Previous post</span>
                    <br/>
                    <router-link
                        class="neighbour-post-button"
                        v-bind:to="'/article/' + previous.articleUrl">
                        {{previous.title}}
                    </router-link>
                </div>
                <div id="back-to-top-button" title="Back to top" onclick="scrollToTop()">
                    <i class="fa fa-arrow-up"></i>
                </div>
                <div v-if="next != undefined" id="next-post">
                    <span>Next post</span>
                    <br/>
                    <router-link
                        class="neighbour-post-button"
                        v-bind:to="'/article/' + next.articleUrl">
                        {{next.title}}
                    </router-link>
                </div>
            </div>
        </main>
    </template>
    <template id="article-summary" data-autoregister-props="article">
        <div class="article-summary">
            <h3>{{ article.title }}</h3>
            <span class="date-display">
                {{ article.publishDate.toLocaleDateString("en-UK", { year: 'numeric', month: 'long', day: 'numeric' }) }}
            </span>
            <br/>
            <div class="description">{{ article.description }}</div>
            <router-link v-bind:to="'/article/' + article.articleUrl">Read more</router-link>
        </div>
    </template>
    <template id="article-list" data-autoregister-props="articles">
        <ul id="main-page-list">
            <li v-for="article in articles">
                <article-summary v-bind:article="article"></article-summary>
            </li>
        </ul>
    </template>
    <template id="page-not-found" data-autoregister-props="articles">
        <main>
            <h3>Run!</h3>
            <img src="resources/here_be_dragons.png"/>
        </main>
    </template>

    <div id="vue-container">
        <aside>
            <img id="profile-photo" v-bind:src="profile.photo"/>
            <br/>
            <h3 id="main-link">
                <router-link to="/">dimitroff.bg</router-link>
            </h3>
            <div>{{ profile.description }}</div>
            <ul class="horizontal icon-list">
                    <li><a target="_blank" href="https://twitter.com/nikoladimitroff"><i class="fab fa-twitter"></i></a></li>
                    <li><a target="_blank" href="https://github.com/nikoladimitroff"><i class="fab fa-github"></i></a></li>
                    <li><a target="_blank" href="https://stackoverflow.com/users/1115693/nikola-dimitroff"><i class="fab fa-stack-overflow"></i></a></li>
                    <li><a target="_blank" href="https://bg.linkedin.com/in/nikoladimitroff"><i class="fab fa-linkedin"></i></a></li>
                </ul>
        </aside>
        <router-view class="view"></router-view>
    </div>
    <script src="main.js"></script>
</body>
</html>